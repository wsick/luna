var tiny;!function(e){var t;!function(e){var t={down:function(e){return!1},up:function(e){return!1}},n=function(){function n(){this.$handlers=t}return n.prototype.attach=function(){var e=this;return document.onkeypress=function(t){return e.$handlePress(t)},document.onkeydown=function(t){return e.$handleDown(t)},this},n.prototype.handle=function(e){return this.$handlers=e,this},n.prototype.unhandle=function(){return this.$handlers=t,this},n.prototype.$handlePress=function(t){e.keyboard.refresh(t);var n=this.createPressArgs(t);if(n)return this.$handlers.down(n)?(t.preventDefault(),!1):void 0},n.prototype.$handleDown=function(t){e.keyboard.refresh(t);var n=this.createDownArgs(t);if(n)return this.$handlers.down(n)&&this.isPreventable(n)?(t.preventDefault(),!1):void 0},n.prototype.isPreventable=function(e){return!0},n.prototype.createPressArgs=function(e){},n.prototype.createDownArgs=function(e){},n}();e.KeyInterop=n}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){!function(e){e[e.none=0]="none",e[e.back=1]="back",e[e.tab=2]="tab",e[e.enter=3]="enter",e[e.shift=4]="shift",e[e.ctrl=5]="ctrl",e[e.alt=6]="alt",e[e.capsLock=7]="capsLock",e[e.escape=8]="escape",e[e.space=9]="space",e[e.pageUp=10]="pageUp",e[e.pageDown=11]="pageDown",e[e.end=12]="end",e[e.home=13]="home",e[e.left=14]="left",e[e.up=15]="up",e[e.right=16]="right",e[e.down=17]="down",e[e.insert=18]="insert",e[e["delete"]=19]="delete",e[e.d0=20]="d0",e[e.d1=21]="d1",e[e.d2=22]="d2",e[e.d3=23]="d3",e[e.d4=24]="d4",e[e.d5=25]="d5",e[e.d6=26]="d6",e[e.d7=27]="d7",e[e.d8=28]="d8",e[e.d9=29]="d9",e[e.a=30]="a",e[e.b=31]="b",e[e.c=32]="c",e[e.d=33]="d",e[e.e=34]="e",e[e.f=35]="f",e[e.g=36]="g",e[e.h=37]="h",e[e.i=38]="i",e[e.j=39]="j",e[e.k=40]="k",e[e.l=41]="l",e[e.m=42]="m",e[e.n=43]="n",e[e.o=44]="o",e[e.p=45]="p",e[e.q=46]="q",e[e.r=47]="r",e[e.s=48]="s",e[e.t=49]="t",e[e.u=50]="u",e[e.v=51]="v",e[e.w=52]="w",e[e.x=53]="x",e[e.y=54]="y",e[e.z=55]="z",e[e.f1=56]="f1",e[e.f2=57]="f2",e[e.f3=58]="f3",e[e.f4=59]="f4",e[e.f5=60]="f5",e[e.f6=61]="f6",e[e.f7=62]="f7",e[e.f8=63]="f8",e[e.f9=64]="f9",e[e.f10=65]="f10",e[e.f11=66]="f11",e[e.f12=67]="f12",e[e.numPad0=68]="numPad0",e[e.numPad1=69]="numPad1",e[e.numPad2=70]="numPad2",e[e.numPad3=71]="numPad3",e[e.numPad4=72]="numPad4",e[e.numPad5=73]="numPad5",e[e.numPad6=74]="numPad6",e[e.numPad7=75]="numPad7",e[e.numPad8=76]="numPad8",e[e.numPad9=77]="numPad9",e[e.multiply=78]="multiply",e[e.add=79]="add",e[e.subtract=80]="subtract",e[e.decimal=81]="decimal",e[e.divide=82]="divide",e[e.unknown=255]="unknown"}(e.Key||(e.Key={}));e.Key}(t=e.key||(e.key={}))}(tiny||(tiny={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},tiny;!function(e){var t;!function(e){var t=[];t[41]=48,t[33]=49,t[64]=50,t[35]=51,t[36]=52,t[37]=53,t[94]=54,t[38]=55,t[42]=56,t[34]=e.Key.unknown;var n=function(n){function o(){n.apply(this,arguments)}return __extends(o,n),o.prototype.createPressArgs=function(n){if(n["char"]){var o={shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey},r=n.keyCode,i=t[r];i&&(r=i);var a=new e.KeyEventArgs(o,r,e.keyFromBrowserCode(r),n["char"]);if(a.key===e.Key.unknown&&n.key){a["char"]=n.key;var u=a["char"].toUpperCase().charCodeAt(0);a.key=e.keyFromBrowserCode(u),null==a.key&&(a.key=e.Key.unknown)}return a}},o.prototype.createDownArgs=function(t){if(!t["char"]||8===t.keyCode||9===t.keyCode||t.ctrlKey){var n={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey};return new e.KeyEventArgs(n,t.keyCode,e.keyFromBrowserCode(t.keyCode))}},o}(e.KeyInterop);e.IEKeyInterop=n}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=[];t[8]=e.Key.back,t[9]=e.Key.tab,t[20]=e.Key.capsLock,t[27]=e.Key.escape,t[33]=e.Key.pageUp,t[34]=e.Key.pageDown,t[35]=e.Key.end,t[36]=e.Key.home,t[37]=e.Key.left,t[38]=e.Key.up,t[39]=e.Key.right,t[40]=e.Key.down,t[45]=e.Key.insert,t[46]=e.Key["delete"];var n=[];n[41]=48,n[33]=49,n[64]=50,n[35]=51,n[36]=52,n[37]=53,n[94]=54,n[38]=55,n[42]=56,n[34]=e.Key.unknown;var o=function(o){function r(){o.apply(this,arguments)}return __extends(r,o),r.prototype.createPressArgs=function(t){var o={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},r=t.keyCode,i=n[r];i&&(r=i);var a=new e.KeyEventArgs(o,r,e.keyFromBrowserCode(r),String.fromCharCode(t.which||t.keyCode));return"'"===a["char"]&&(a.key=e.Key.unknown),a},r.prototype.createDownArgs=function(n){if(void 0===t[n.keyCode]&&!n.ctrlKey)return null;var o={shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey};return new e.KeyEventArgs(o,n.keyCode,e.keyFromBrowserCode(n.keyCode))},r.prototype.isPreventable=function(t){return!t.modifiers.ctrl||t.key!==e.Key.v},r}(e.KeyInterop);e.NetscapeKeyInterop=o}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(t){var n={down:function(e){},up:function(e){},leave:function(e){},move:function(e){},wheel:function(e){}},o=function(){function o(){this.$canvasOffset={x:0,y:0},this.$isContextMenuDisabled=!1,this.$handlers=n}return o.prototype.attach=function(e){var t=this;return this.$canvasOffset=this.calcOffset(e),e.addEventListener("contextmenu",function(e){return t.handleContextMenu(window.event?window.event:e)}),e.addEventListener("mousedown",function(e){return t.handleButtonPress(window.event?window.event:e)}),e.addEventListener("mouseup",function(e){return t.handleButtonRelease(window.event?window.event:e)}),e.addEventListener("mouseout",function(e){return t.handleOut(window.event?window.event:e)}),e.addEventListener("mousemove",function(e){return t.handleMove(window.event?window.event:e)}),e.addEventListener("mousewheel",function(e){return t.handleWheel(window.event?window.event:e)}),e.addEventListener("DOMMouseScroll",function(e){return t.handleWheel(window.event?window.event:e)}),this},o.prototype.handle=function(e){return this.$handlers=e,this},o.prototype.unhandle=function(){return this.$handlers=n,this},o.prototype.isLeftButton=function(e){return 1===e},o.prototype.isRightButton=function(e){return 2===e},o.prototype.disableNextContextMenu=function(){this.$isContextMenuDisabled=!0},o.prototype.calcOffset=function(e){var t=0,n=0,o=e;if(o.offsetParent)do t+=o.offsetLeft,n+=o.offsetTop;while(o=o.offsetParent);return{x:t,y:n}},o.prototype.getMousePosition=function(e){return{x:e.clientX+window.pageXOffset+this.$canvasOffset.x,y:e.clientY+window.pageYOffset+this.$canvasOffset.y}},o.prototype.handleContextMenu=function(e){if(this.$isContextMenuDisabled)return this.$isContextMenuDisabled=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1},o.prototype.handleButtonPress=function(n){e.key.keyboard.refresh(n);var o=new t.MouseButtonEventArgs(n.which?n.which:n.button,this.getMousePosition(n));this.$handlers.down(o),o.handled&&this.disableNextContextMenu()},o.prototype.handleButtonRelease=function(n){e.key.keyboard.refresh(n);var o=new t.MouseButtonEventArgs(n.which?n.which:n.button,this.getMousePosition(n));this.$handlers.up(o)},o.prototype.handleOut=function(n){e.key.keyboard.refresh(n);var o=new t.MouseEventArgs(this.getMousePosition(n));this.$handlers.leave(o)},o.prototype.handleMove=function(n){e.key.keyboard.refresh(n);var o=new t.MouseEventArgs(this.getMousePosition(n));this.$handlers.move(o)},o.prototype.handleWheel=function(n){e.key.keyboard.refresh(n);var o=0;n.wheelDelta?o=n.wheelDelta/120:n.detail&&(o=-n.detail/3),n.preventDefault&&n.preventDefault(),n.returnValue=!1;var r=(this.getMousePosition(n),new t.MouseWheelEventArgs(this.getMousePosition(n),o));this.$handlers.wheel(r)},o}();t.MouseInterop=o}(t=e.mouse||(e.mouse={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments),this.$stopIEContextMenu=!1}return __extends(t,e),t.prototype.disableNextContextMenu=function(){e.prototype.disableNextContextMenu.call(this),this.$stopIEContextMenu=!0},t.prototype.attach=function(t){var n=this;return t.oncontextmenu=function(e){return n.handleIEContextMenu(e)},e.prototype.attach.call(this,t)},t.prototype.handleIEContextMenu=function(e){return!this.$stopIEContextMenu||(this.$stopIEContextMenu=!1,!1)},t}(e.MouseInterop);e.IEMouseInterop=t}(t=e.mouse||(e.mouse={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.isRightButton=function(e){return 3===e},t}(e.MouseInterop);e.NetscapeMouseInterop=t}(t=e.mouse||(e.mouse={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t={down:function(e){},up:function(e){},move:function(e){},enter:function(e){},leave:function(e){}},n=function(){function e(){this.$canvasOffset=null,this.$handlers=t,this.$active=[]}return Object.defineProperty(e.prototype,"offsetX",{get:function(){return window.pageXOffset+this.$canvasOffset.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return window.pageYOffset+this.$canvasOffset.y},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){return this.$canvasOffset=this.calcOffset(e),this},e.prototype.handle=function(e){return this.$handlers=e,this},e.prototype.unhandle=function(){return this.$handlers=t,this},e.prototype.calcOffset=function(e){var t=0,n=0,o=e;if(o.offsetParent)do t+=o.offsetLeft,n+=o.offsetTop;while(o=o.offsetParent);return{x:t,y:n}},e.prototype.findTouch=function(e){for(var t=this.$active,n=t.length,o=0;o<n;o++)if(t[o].identifier===e)return t[o];return null},e.prototype.removeTouches=function(e){for(var t=0,n=this.$active,o=e.length;t<o;t++){var r=n.indexOf(e[t]);r>-1&&n.splice(r,1)}},e}();e.TouchInterop=n}(t=e.touch||(e.touch={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.attach=function(e){return this},e.prototype.handle=function(e){return this},e.prototype.unhandle=function(){return this},e}();e.FakeTouchInterop=t}(t=e.touch||(e.touch={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.attach=function(t){var n=this;return e.prototype.attach.call(this,t),t.style.msTouchAction="none",t.style.touchAction="none",t.addEventListener("selectstart",function(e){e.preventDefault()}),navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",function(e){return n.handlePointerDown(window.event?window.event:e)}),t.addEventListener("MSPointerUp",function(e){return n.handlePointerUp(window.event?window.event:e)}),t.addEventListener("MSPointerMove",function(e){return n.handlePointerMove(window.event?window.event:e)}),t.addEventListener("MSPointerEnter",function(e){return n.handlePointerEnter(window.event?window.event:e)}),t.addEventListener("MSPointerLeave",function(e){return n.handlePointerLeave(window.event?window.event:e)})):(t.addEventListener("pointerdown",function(e){return n.handlePointerDown(window.event?window.event:e)}),t.addEventListener("pointerup",function(e){return n.handlePointerUp(window.event?window.event:e)}),t.addEventListener("pointermove",function(e){return n.handlePointerMove(window.event?window.event:e)}),t.addEventListener("pointerenter",function(e){return n.handlePointerEnter(window.event?window.event:e)}),t.addEventListener("pointerleave",function(e){return n.handlePointerLeave(window.event?window.event:e)})),this},t.prototype.handlePointerDown=function(e){"touch"===e.pointerType&&(e.preventDefault(),this.$handlers.down([this.getDevice(e)]))},t.prototype.handlePointerUp=function(e){if("touch"===e.pointerType){var t=[this.getDevice(e)];this.$handlers.up(t),this.removeTouches(t)}},t.prototype.handlePointerMove=function(e){"touch"===e.pointerType&&this.$handlers.move([this.getDevice(e)])},t.prototype.handlePointerEnter=function(e){"touch"===e.pointerType&&this.$handlers.enter([this.getDevice(e)])},t.prototype.handlePointerLeave=function(e){"touch"===e.pointerType&&this.$handlers.leave([this.getDevice(e)])},t.prototype.getDevice=function(e){var t=this.findTouch(e.pointerId);if(t)return t;var n=this.createDevice(e);return this.$active.push(n),n},t.prototype.createDevice=function(e){var t=this;return{identifier:e.pointerId,getPosition:function(){return{x:e.clientX+t.offsetX,y:e.clientY+t.offsetY}},force:e.pressure}},t}(e.TouchInterop);e.PointerTouchInterop=t}(t=e.touch||(e.touch={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.attach=function(t){var n=this;return e.prototype.attach.call(this,t),t.addEventListener("touchstart",function(e){return n.handleTouchStart(window.event?window.event:e)}),t.addEventListener("touchend",function(e){return n.handleTouchEnd(window.event?window.event:e)}),t.addEventListener("touchmove",function(e){return n.handleTouchMove(window.event?window.event:e)}),t.addEventListener("touchenter",function(e){return n.handleTouchEnter(window.event?window.event:e)}),t.addEventListener("touchleave",function(e){return n.handleTouchLeave(window.event?window.event:e)}),this},t.prototype.handleTouchStart=function(e){e.preventDefault();var t=this.touchArrayFromList(e.changedTouches);this.$handlers.down(t)},t.prototype.handleTouchEnd=function(e){var t=this.touchArrayFromList(e.changedTouches);this.$handlers.up(t),this.removeTouches(t)},t.prototype.handleTouchMove=function(e){var t=this.touchArrayFromList(e.changedTouches);this.$handlers.move(t)},t.prototype.handleTouchEnter=function(e){var t=this.touchArrayFromList(e.changedTouches);this.$handlers.enter(t)},t.prototype.handleTouchLeave=function(e){var t=this.touchArrayFromList(e.changedTouches);this.$handlers.leave(t)},t.prototype.touchArrayFromList=function(e){for(var t=[],n=0,o=e.length;n<o;n++)t.push(this.getDevice(e.item(n)));return t},t.prototype.getDevice=function(e){var t=this.findTouch(e.identifier);if(t)return t;var n=this.createDevice(e);return this.$active.push(n),n},t.prototype.createDevice=function(e){var t=this;return{identifier:e.identifier,getPosition:function(){return{x:e.clientX+t.offsetX,y:e.clientY+t.offsetY}},force:e.force}},t}(e.TouchInterop);e.NonPointerTouchInterop=t}(t=e.touch||(e.touch={}))}(tiny||(tiny={}));var tiny;!function(e){var t=function(){function t(e){Object.defineProperties(this,{mouse:{value:this.determineMouse().attach(e),writable:!1},key:{value:this.determineKey().attach(e),writable:!1},touch:{value:this.determineTouch().attach(e),writable:!1}})}return t.prototype.determineMouse=function(){return"Microsoft Internet Explorer"===navigator.appName?new e.mouse.IEMouseInterop:"Netscape"===navigator.appName?navigator.userAgent.match(/Trident\//)?new e.mouse.IEMouseInterop:new e.mouse.NetscapeMouseInterop:new e.mouse.MouseInterop},t.prototype.determineKey=function(){return"Microsoft Internet Explorer"===navigator.appName?new e.key.IEKeyInterop:"Netscape"===navigator.appName?navigator.userAgent.match(/Trident\//)?new e.key.IEKeyInterop:new e.key.NetscapeKeyInterop:new e.key.KeyInterop},t.prototype.determineTouch=function(){return navigator.msPointerEnabled||navigator.pointerEnabled?new e.touch.PointerTouchInterop:"ontouchstart"in window?new e.touch.NonPointerTouchInterop:new e.touch.FakeTouchInterop},t}();e.InputManager=t}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){function t(e){return n[e]}var n=[];n[8]=e.Key.back,n[9]=e.Key.tab,n[13]=e.Key.enter,n[16]=e.Key.shift,n[17]=e.Key.ctrl,n[18]=e.Key.alt,n[20]=e.Key.capsLock,n[27]=e.Key.escape,n[32]=e.Key.space,n[33]=e.Key.pageUp,n[34]=e.Key.pageDown,n[35]=e.Key.end,n[36]=e.Key.home,n[37]=e.Key.left,n[38]=e.Key.up,n[39]=e.Key.right,n[40]=e.Key.down,n[45]=e.Key.insert,n[46]=e.Key["delete"],n[48]=e.Key.d0,n[49]=e.Key.d1,n[50]=e.Key.d2,n[51]=e.Key.d3,n[52]=e.Key.d4,n[53]=e.Key.d5,n[54]=e.Key.d6,n[55]=e.Key.d7,n[56]=e.Key.d8,n[57]=e.Key.d9,n[65]=e.Key.a,n[66]=e.Key.b,n[67]=e.Key.c,n[68]=e.Key.d,n[69]=e.Key.e,n[70]=e.Key.f,n[71]=e.Key.g,n[72]=e.Key.h,n[73]=e.Key.i,n[74]=e.Key.j,n[75]=e.Key.k,n[76]=e.Key.l,n[77]=e.Key.m,n[78]=e.Key.n,n[79]=e.Key.o,n[80]=e.Key.p,n[81]=e.Key.q,n[82]=e.Key.r,n[83]=e.Key.s,n[84]=e.Key.t,n[85]=e.Key.u,n[86]=e.Key.v,n[87]=e.Key.w,n[88]=e.Key.x,n[89]=e.Key.y,n[90]=e.Key.z,n[96]=e.Key.numPad0,n[97]=e.Key.numPad1,n[98]=e.Key.numPad2,n[99]=e.Key.numPad3,n[100]=e.Key.numPad4,n[101]=e.Key.numPad5,n[102]=e.Key.numPad6,n[103]=e.Key.numPad7,n[104]=e.Key.numPad8,n[105]=e.Key.numPad9,n[106]=e.Key.multiply,n[107]=e.Key.add,n[109]=e.Key.subtract,n[110]=e.Key.decimal,n[111]=e.Key.divide,n[112]=e.Key.f1,n[113]=e.Key.f2,n[114]=e.Key.f3,n[115]=e.Key.f4,n[116]=e.Key.f5,n[117]=e.Key.f6,n[118]=e.Key.f7,n[119]=e.Key.f8,n[120]=e.Key.f9,n[121]=e.Key.f10,n[122]=e.Key.f11,n[123]=e.Key.f12,e.keyFromBrowserCode=t}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){!function(e){e[e.none=1]="none",e[e.alt=2]="alt",e[e.control=4]="control",e[e.shift=8]="shift",e[e.windows=16]="windows",e[e.apple=32]="apple"}(e.ModifierKeys||(e.ModifierKeys={}));var t,n=e.ModifierKeys;!function(e){function t(t){t.shiftKey?e.modifiers|=n.shift:e.modifiers&=~n.shift,t.ctrlKey?e.modifiers|=n.control:e.modifiers&=~n.control,t.altKey?e.modifiers|=n.alt:e.modifiers&=~n.alt}function o(){return(e.modifiers&n.control)===n.control}function r(){return(e.modifiers&n.alt)===n.alt}function i(){return(e.modifiers&n.shift)===n.shift}e.modifiers=n.none,e.refresh=t,e.hasControl=o,e.hasAlt=r,e.hasShift=i}(t=e.keyboard||(e.keyboard={}))}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(){function t(t,n,o,r){this.handled=!1,Object.defineProperties(this,{modifiers:{value:t,writable:!1},platformKeyCode:{value:n,writable:!1},key:{value:null==o?e.Key.unknown:o,writable:!1},"char":{value:r,writable:!1}})}return t}();e.KeyEventArgs=t}(t=e.key||(e.key={}))}(tiny||(tiny={}));var tiny;!function(e){var t;!function(e){var t=function(){function e(e){this.handled=!1,Object.defineProperties(this,{position:{value:e,writable:!1}})}return e}();e.MouseEventArgs=t;var n=function(){function e(e,t){this.handled=!1,Object.defineProperties(this,{button:{value:e,writable:!1},position:{value:t,writable:!1}})}return e}();e.MouseButtonEventArgs=n;var o=function(){function e(e,t){this.handled=!1,Object.defineProperties(this,{position:{value:e,writable:!1},delta:{value:t,writable:!1}})}return e}();e.MouseWheelEventArgs=o}(t=e.mouse||(e.mouse={}))}(tiny||(tiny={}));
//# sourceMappingURL=tiny.min.js.map
