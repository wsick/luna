{"version":3,"sources":["key/KeyInterop.ts","key/Key.ts","tiny.js","key/IEKeyInterop.ts","key/NetscapeKeyInterop.ts","mouse/MouseInterop.ts","mouse/IEMouseInterop.ts","mouse/NetscapeMouseInterop.ts","touch/TouchInterop.ts","touch/FakeTouchInterop.ts","touch/PointerTouchInterop.ts","touch/NonPointerTouchInterop.ts","InputManager.ts","key/browser.ts","key/Keyboard.ts","key/KeyEventArgs.ts"],"names":["tiny","tiny.key","tiny.key.down","tiny.key.up","tiny.key.KeyInterop","tiny.key.KeyInterop.constructor","tiny.key.KeyInterop.attach","tiny.key.KeyInterop.handle","tiny.key.KeyInterop.unhandle","tiny.key.KeyInterop.$handlePress","tiny.key.KeyInterop.$handleDown","tiny.key.KeyInterop.isPreventable","tiny.key.Key","__extends","this","d","b","__","constructor","p","hasOwnProperty","prototype","Object","create","tiny.key.IEKeyInterop","tiny.key.IEKeyInterop.constructor","tiny.key.IEKeyInterop.createPressArgs","tiny.key.IEKeyInterop.createDownArgs","tiny.key.NetscapeKeyInterop","tiny.key.NetscapeKeyInterop.constructor","tiny.key.NetscapeKeyInterop.createPressArgs","tiny.key.NetscapeKeyInterop.createDownArgs","tiny.key.NetscapeKeyInterop.isPreventable","tiny.mouse","tiny.mouse.down","tiny.mouse.MouseInterop","tiny.mouse.MouseInterop.constructor","tiny.mouse.MouseInterop.attach","tiny.mouse.MouseInterop.handle","tiny.mouse.MouseInterop.unhandle","tiny.mouse.MouseInterop.isLeftButton","tiny.mouse.MouseInterop.isRightButton","tiny.mouse.MouseInterop.disableNextContextMenu","tiny.mouse.MouseInterop.calcOffset","tiny.mouse.MouseInterop.getMousePosition","tiny.mouse.MouseInterop.handleContextMenu","tiny.mouse.MouseInterop.handleButtonPress","tiny.mouse.MouseInterop.handleButtonRelease","tiny.mouse.MouseInterop.handleOut","tiny.mouse.MouseInterop.handleMove","tiny.mouse.MouseInterop.handleWheel","tiny.mouse.IEMouseInterop","tiny.mouse.IEMouseInterop.constructor","tiny.mouse.IEMouseInterop.disableNextContextMenu","tiny.mouse.IEMouseInterop.attach","tiny.mouse.IEMouseInterop.handleIEContextMenu","tiny.mouse.NetscapeMouseInterop","tiny.mouse.NetscapeMouseInterop.constructor","tiny.mouse.NetscapeMouseInterop.isRightButton","tiny.touch","tiny.touch.TouchInterop","tiny.touch.TouchInterop.constructor","get","tiny.touch.TouchInterop.offsetX","enumerable","configurable","tiny.touch.TouchInterop.offsetY","tiny.touch.TouchInterop.attach","tiny.touch.TouchInterop.handle","tiny.touch.TouchInterop.unhandle","tiny.touch.TouchInterop.calcOffset","tiny.touch.TouchInterop.findTouch","tiny.touch.TouchInterop.removeTouches","tiny.touch.FakeTouchInterop","tiny.touch.FakeTouchInterop.attach","tiny.touch.FakeTouchInterop.handle","tiny.touch.FakeTouchInterop.unhandle","tiny.touch.PointerTouchInterop","tiny.touch.PointerTouchInterop.constructor","tiny.touch.PointerTouchInterop.attach","tiny.touch.PointerTouchInterop.handlePointerDown","tiny.touch.PointerTouchInterop.handlePointerUp","tiny.touch.PointerTouchInterop.handlePointerMove","tiny.touch.PointerTouchInterop.handlePointerEnter","tiny.touch.PointerTouchInterop.handlePointerLeave","tiny.touch.PointerTouchInterop.getDevice","tiny.touch.PointerTouchInterop.createDevice","tiny.touch.NonPointerTouchInterop","tiny.touch.NonPointerTouchInterop.constructor","tiny.touch.NonPointerTouchInterop.attach","tiny.touch.NonPointerTouchInterop.handleTouchStart","tiny.touch.NonPointerTouchInterop.handleTouchEnd","tiny.touch.NonPointerTouchInterop.handleTouchMove","tiny.touch.NonPointerTouchInterop.handleTouchEnter","tiny.touch.NonPointerTouchInterop.handleTouchLeave","tiny.touch.NonPointerTouchInterop.touchArrayFromList","tiny.touch.NonPointerTouchInterop.getDevice","tiny.touch.NonPointerTouchInterop.createDevice","tiny.InputManager","tiny.InputManager.constructor","tiny.InputManager.determineMouse","tiny.InputManager.determineKey","tiny.InputManager.determineTouch","tiny.key.keyFromBrowserCode","tiny.key.ModifierKeys","tiny.key.keyboard","tiny.key.keyboard.refresh","tiny.key.keyboard.hasControl","tiny.key.keyboard.hasAlt","tiny.key.keyboard.hasShift","tiny.key.KeyEventArgs","tiny.key.KeyEventArgs.constructor"],"mappings":"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","file":"tiny.min.js","sourcesContent":["namespace tiny.key {\n    // Good Resource: http://unixpapa.com/js/key.html\n\n    var NO_HANDLERS: IKeyInteropHandlers = {\n        down(args: IKeyEventArgs): boolean {\n            return false;\n        },\n        up(args: IKeyEventArgs): boolean {\n            return false;\n        },\n    };\n\n    export class KeyInterop implements IKeyInterop {\n        private $handlers: IKeyInteropHandlers = NO_HANDLERS;\n\n        attach(): IKeyInterop {\n            document.onkeypress = (e) => this.$handlePress(e);\n            document.onkeydown = (e) => this.$handleDown(e);\n            return this;\n        }\n\n        handle(handlers: IKeyInteropHandlers): IKeyInterop {\n            this.$handlers = handlers;\n            return this;\n        }\n\n        unhandle(): IKeyInterop {\n            this.$handlers = NO_HANDLERS;\n            return this;\n        }\n\n        protected $handlePress(evt) {\n            keyboard.refresh(evt);\n            var args = this.createPressArgs(evt);\n            if (!args)\n                return;\n            Object.freeze(args);\n            if (this.$handlers.down(args)) {\n                evt.preventDefault();\n                return false;\n            }\n        }\n\n        protected $handleDown(evt) {\n            keyboard.refresh(evt);\n            var args = this.createDownArgs(evt);\n            if (!args)\n                return;\n            Object.freeze(args);\n            if (this.$handlers.down(args) && this.isPreventable(args)) {\n                evt.preventDefault();\n                return false;\n            }\n        }\n\n        isPreventable(args: KeyEventArgs): boolean {\n            return true;\n        }\n\n        createPressArgs(e): IKeyEventArgs {\n            return undefined;\n        }\n\n        createDownArgs(e): IKeyEventArgs {\n            return undefined;\n        }\n    }\n}","namespace tiny.key {\n    export enum Key {\n        none = 0, // A special value indicating no key.\n        back = 1, // backspace\n        tab = 2,\n        enter = 3,\n        shift = 4,\n        ctrl = 5,\n        alt = 6,\n        capsLock = 7,\n        escape = 8, //esc\n        space = 9,\n        pageUp = 10,\n        pageDown = 11,\n        end = 12,\n        home = 13,\n        left = 14, // left arrow\n        up = 15, // up arrow\n        right = 16, // right arrow\n        down = 17, // down arrow\n        insert = 18,\n        delete = 19,\n        d0 = 20, // 0\n        d1 = 21, // 1\n        d2 = 22, // 2\n        d3 = 23, // 3\n        d4 = 24,\n            //     The 5 key.\n        d5 = 25,\n            //     The 6 key.\n        d6 = 26,\n            //     The 7 key.\n        d7 = 27,\n            //     The 8 key.\n        d8 = 28,\n            //     The 9 key.\n        d9 = 29,\n        a = 30,\n        b = 31,\n        c = 32,\n        d = 33,\n        e = 34,\n        f = 35,\n        g = 36,\n        h = 37,\n        i = 38,\n        j = 39,\n        k = 40,\n        l = 41,\n        m = 42,\n        n = 43,\n        o = 44,\n        p = 45,\n        q = 46,\n        r = 47,\n        s = 48,\n        t = 49,\n        u = 50,\n        v = 51,\n        w = 52,\n        x = 53,\n        y = 54,\n        z = 55,\n        f1 = 56,\n        f2 = 57,\n        f3 = 58,\n        f4 = 59,\n        f5 = 60,\n        f6 = 61,\n        f7 = 62,\n        f8 = 63,\n        f9 = 64,\n        f10 = 65,\n        f11 = 66,\n        f12 = 67,\n        numPad0 = 68,\n        numPad1 = 69,\n        numPad2 = 70,\n        numPad3 = 71,\n        numPad4 = 72,\n        numPad5 = 73,\n        numPad6 = 74,\n        numPad7 = 75,\n        numPad8 = 76,\n        numPad9 = 77,\n        multiply = 78, // *\n        add = 79, // +\n        subtract = 80, // -\n        decimal = 81, // .\n        divide = 82, // /\n        unknown = 255, // special value indicating the key is out of range of this enumeration.\n    }\n}","var tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        var NO_HANDLERS = {\n            down: function (args) {\n                return false;\n            },\n            up: function (args) {\n                return false;\n            },\n        };\n        var KeyInterop = (function () {\n            function KeyInterop() {\n                this.$handlers = NO_HANDLERS;\n            }\n            KeyInterop.prototype.attach = function () {\n                var _this = this;\n                document.onkeypress = function (e) { return _this.$handlePress(e); };\n                document.onkeydown = function (e) { return _this.$handleDown(e); };\n                return this;\n            };\n            KeyInterop.prototype.handle = function (handlers) {\n                this.$handlers = handlers;\n                return this;\n            };\n            KeyInterop.prototype.unhandle = function () {\n                this.$handlers = NO_HANDLERS;\n                return this;\n            };\n            KeyInterop.prototype.$handlePress = function (evt) {\n                key.keyboard.refresh(evt);\n                var args = this.createPressArgs(evt);\n                if (!args)\n                    return;\n                Object.freeze(args);\n                if (this.$handlers.down(args)) {\n                    evt.preventDefault();\n                    return false;\n                }\n            };\n            KeyInterop.prototype.$handleDown = function (evt) {\n                key.keyboard.refresh(evt);\n                var args = this.createDownArgs(evt);\n                if (!args)\n                    return;\n                Object.freeze(args);\n                if (this.$handlers.down(args) && this.isPreventable(args)) {\n                    evt.preventDefault();\n                    return false;\n                }\n            };\n            KeyInterop.prototype.isPreventable = function (args) {\n                return true;\n            };\n            KeyInterop.prototype.createPressArgs = function (e) {\n                return undefined;\n            };\n            KeyInterop.prototype.createDownArgs = function (e) {\n                return undefined;\n            };\n            return KeyInterop;\n        })();\n        key.KeyInterop = KeyInterop;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        (function (Key) {\n            Key[Key[\"none\"] = 0] = \"none\";\n            Key[Key[\"back\"] = 1] = \"back\";\n            Key[Key[\"tab\"] = 2] = \"tab\";\n            Key[Key[\"enter\"] = 3] = \"enter\";\n            Key[Key[\"shift\"] = 4] = \"shift\";\n            Key[Key[\"ctrl\"] = 5] = \"ctrl\";\n            Key[Key[\"alt\"] = 6] = \"alt\";\n            Key[Key[\"capsLock\"] = 7] = \"capsLock\";\n            Key[Key[\"escape\"] = 8] = \"escape\";\n            Key[Key[\"space\"] = 9] = \"space\";\n            Key[Key[\"pageUp\"] = 10] = \"pageUp\";\n            Key[Key[\"pageDown\"] = 11] = \"pageDown\";\n            Key[Key[\"end\"] = 12] = \"end\";\n            Key[Key[\"home\"] = 13] = \"home\";\n            Key[Key[\"left\"] = 14] = \"left\";\n            Key[Key[\"up\"] = 15] = \"up\";\n            Key[Key[\"right\"] = 16] = \"right\";\n            Key[Key[\"down\"] = 17] = \"down\";\n            Key[Key[\"insert\"] = 18] = \"insert\";\n            Key[Key[\"delete\"] = 19] = \"delete\";\n            Key[Key[\"d0\"] = 20] = \"d0\";\n            Key[Key[\"d1\"] = 21] = \"d1\";\n            Key[Key[\"d2\"] = 22] = \"d2\";\n            Key[Key[\"d3\"] = 23] = \"d3\";\n            Key[Key[\"d4\"] = 24] = \"d4\";\n            Key[Key[\"d5\"] = 25] = \"d5\";\n            Key[Key[\"d6\"] = 26] = \"d6\";\n            Key[Key[\"d7\"] = 27] = \"d7\";\n            Key[Key[\"d8\"] = 28] = \"d8\";\n            Key[Key[\"d9\"] = 29] = \"d9\";\n            Key[Key[\"a\"] = 30] = \"a\";\n            Key[Key[\"b\"] = 31] = \"b\";\n            Key[Key[\"c\"] = 32] = \"c\";\n            Key[Key[\"d\"] = 33] = \"d\";\n            Key[Key[\"e\"] = 34] = \"e\";\n            Key[Key[\"f\"] = 35] = \"f\";\n            Key[Key[\"g\"] = 36] = \"g\";\n            Key[Key[\"h\"] = 37] = \"h\";\n            Key[Key[\"i\"] = 38] = \"i\";\n            Key[Key[\"j\"] = 39] = \"j\";\n            Key[Key[\"k\"] = 40] = \"k\";\n            Key[Key[\"l\"] = 41] = \"l\";\n            Key[Key[\"m\"] = 42] = \"m\";\n            Key[Key[\"n\"] = 43] = \"n\";\n            Key[Key[\"o\"] = 44] = \"o\";\n            Key[Key[\"p\"] = 45] = \"p\";\n            Key[Key[\"q\"] = 46] = \"q\";\n            Key[Key[\"r\"] = 47] = \"r\";\n            Key[Key[\"s\"] = 48] = \"s\";\n            Key[Key[\"t\"] = 49] = \"t\";\n            Key[Key[\"u\"] = 50] = \"u\";\n            Key[Key[\"v\"] = 51] = \"v\";\n            Key[Key[\"w\"] = 52] = \"w\";\n            Key[Key[\"x\"] = 53] = \"x\";\n            Key[Key[\"y\"] = 54] = \"y\";\n            Key[Key[\"z\"] = 55] = \"z\";\n            Key[Key[\"f1\"] = 56] = \"f1\";\n            Key[Key[\"f2\"] = 57] = \"f2\";\n            Key[Key[\"f3\"] = 58] = \"f3\";\n            Key[Key[\"f4\"] = 59] = \"f4\";\n            Key[Key[\"f5\"] = 60] = \"f5\";\n            Key[Key[\"f6\"] = 61] = \"f6\";\n            Key[Key[\"f7\"] = 62] = \"f7\";\n            Key[Key[\"f8\"] = 63] = \"f8\";\n            Key[Key[\"f9\"] = 64] = \"f9\";\n            Key[Key[\"f10\"] = 65] = \"f10\";\n            Key[Key[\"f11\"] = 66] = \"f11\";\n            Key[Key[\"f12\"] = 67] = \"f12\";\n            Key[Key[\"numPad0\"] = 68] = \"numPad0\";\n            Key[Key[\"numPad1\"] = 69] = \"numPad1\";\n            Key[Key[\"numPad2\"] = 70] = \"numPad2\";\n            Key[Key[\"numPad3\"] = 71] = \"numPad3\";\n            Key[Key[\"numPad4\"] = 72] = \"numPad4\";\n            Key[Key[\"numPad5\"] = 73] = \"numPad5\";\n            Key[Key[\"numPad6\"] = 74] = \"numPad6\";\n            Key[Key[\"numPad7\"] = 75] = \"numPad7\";\n            Key[Key[\"numPad8\"] = 76] = \"numPad8\";\n            Key[Key[\"numPad9\"] = 77] = \"numPad9\";\n            Key[Key[\"multiply\"] = 78] = \"multiply\";\n            Key[Key[\"add\"] = 79] = \"add\";\n            Key[Key[\"subtract\"] = 80] = \"subtract\";\n            Key[Key[\"decimal\"] = 81] = \"decimal\";\n            Key[Key[\"divide\"] = 82] = \"divide\";\n            Key[Key[\"unknown\"] = 255] = \"unknown\";\n        })(key.Key || (key.Key = {}));\n        var Key = key.Key;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"Key\" />\n/// <reference path=\"KeyInterop\" />\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        var udkie = [];\n        udkie[41] = 48;\n        udkie[33] = 49;\n        udkie[64] = 50;\n        udkie[35] = 51;\n        udkie[36] = 52;\n        udkie[37] = 53;\n        udkie[94] = 54;\n        udkie[38] = 55;\n        udkie[42] = 56;\n        udkie[34] = key.Key.unknown;\n        var IEKeyInterop = (function (_super) {\n            __extends(IEKeyInterop, _super);\n            function IEKeyInterop() {\n                _super.apply(this, arguments);\n            }\n            IEKeyInterop.prototype.createPressArgs = function (e) {\n                if (!e[\"char\"])\n                    return;\n                var modifiers = {\n                    shift: e.shiftKey,\n                    ctrl: e.ctrlKey,\n                    alt: e.altKey\n                };\n                var keyCode = e.keyCode;\n                var unshifted = udkie[keyCode];\n                if (unshifted)\n                    keyCode = unshifted;\n                var args = new key.KeyEventArgs(modifiers, keyCode, key.keyFromBrowserCode(keyCode), e[\"char\"]);\n                if (args.key === key.Key.unknown && e.key) {\n                    args.char = e.key;\n                    var code = args.char.toUpperCase().charCodeAt(0);\n                    args.key = key.keyFromBrowserCode(code);\n                    if (args.key == null)\n                        args.key = key.Key.unknown;\n                }\n                return args;\n            };\n            IEKeyInterop.prototype.createDownArgs = function (e) {\n                if (e[\"char\"] && e.keyCode !== 8 && e.keyCode !== 9 && !e.ctrlKey)\n                    return;\n                var modifiers = {\n                    shift: e.shiftKey,\n                    ctrl: e.ctrlKey,\n                    alt: e.altKey\n                };\n                return new key.KeyEventArgs(modifiers, e.keyCode, key.keyFromBrowserCode(e.keyCode));\n            };\n            return IEKeyInterop;\n        })(key.KeyInterop);\n        key.IEKeyInterop = IEKeyInterop;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"Key\" />\n/// <reference path=\"KeyInterop\" />\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        var sknet = [];\n        sknet[8] = key.Key.back;\n        sknet[9] = key.Key.tab;\n        sknet[20] = key.Key.capsLock;\n        sknet[27] = key.Key.escape;\n        sknet[33] = key.Key.pageUp;\n        sknet[34] = key.Key.pageDown;\n        sknet[35] = key.Key.end;\n        sknet[36] = key.Key.home;\n        sknet[37] = key.Key.left;\n        sknet[38] = key.Key.up;\n        sknet[39] = key.Key.right;\n        sknet[40] = key.Key.down;\n        sknet[45] = key.Key.insert;\n        sknet[46] = key.Key.delete;\n        var udknet = [];\n        udknet[41] = 48;\n        udknet[33] = 49;\n        udknet[64] = 50;\n        udknet[35] = 51;\n        udknet[36] = 52;\n        udknet[37] = 53;\n        udknet[94] = 54;\n        udknet[38] = 55;\n        udknet[42] = 56;\n        udknet[34] = key.Key.unknown;\n        var NetscapeKeyInterop = (function (_super) {\n            __extends(NetscapeKeyInterop, _super);\n            function NetscapeKeyInterop() {\n                _super.apply(this, arguments);\n            }\n            NetscapeKeyInterop.prototype.createPressArgs = function (e) {\n                var modifiers = {\n                    shift: e.shiftKey,\n                    ctrl: e.ctrlKey,\n                    alt: e.altKey\n                };\n                var keyCode = e.keyCode;\n                var unshifted = udknet[keyCode];\n                if (unshifted)\n                    keyCode = unshifted;\n                var args = new key.KeyEventArgs(modifiers, keyCode, key.keyFromBrowserCode(keyCode), String.fromCharCode(e.which || e.keyCode));\n                if (args.char === \"'\")\n                    args.key = key.Key.unknown;\n                return args;\n            };\n            NetscapeKeyInterop.prototype.createDownArgs = function (e) {\n                if (sknet[e.keyCode] === undefined && !e.ctrlKey)\n                    return null;\n                var modifiers = {\n                    shift: e.shiftKey,\n                    ctrl: e.ctrlKey,\n                    alt: e.altKey\n                };\n                return new key.KeyEventArgs(modifiers, e.keyCode, key.keyFromBrowserCode(e.keyCode));\n            };\n            NetscapeKeyInterop.prototype.isPreventable = function (args) {\n                if (args.modifiers.ctrl && args.key === key.Key.v) {\n                    return false;\n                }\n                return true;\n            };\n            return NetscapeKeyInterop;\n        })(key.KeyInterop);\n        key.NetscapeKeyInterop = NetscapeKeyInterop;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var mouse;\n    (function (mouse) {\n        var NO_HANDLERS = {\n            down: function (button, pos) {\n                return false;\n            },\n            up: function (button, pos) {\n            },\n            leave: function (pos) {\n            },\n            move: function (pos) {\n            },\n            wheel: function (pos, delta) {\n            },\n        };\n        var MouseInterop = (function () {\n            function MouseInterop() {\n                this.$canvasOffset = { x: 0, y: 0 };\n                this.$isContextMenuDisabled = false;\n                this.$handlers = NO_HANDLERS;\n            }\n            MouseInterop.prototype.attach = function (canvas) {\n                var _this = this;\n                this.$canvasOffset = this.calcOffset(canvas);\n                canvas.addEventListener(\"contextmenu\", function (e) { return _this.handleContextMenu(window.event ? window.event : e); });\n                canvas.addEventListener(\"mousedown\", function (e) { return _this.handleButtonPress(window.event ? window.event : e); });\n                canvas.addEventListener(\"mouseup\", function (e) { return _this.handleButtonRelease(window.event ? window.event : e); });\n                canvas.addEventListener(\"mouseout\", function (e) { return _this.handleOut(window.event ? window.event : e); });\n                canvas.addEventListener(\"mousemove\", function (e) { return _this.handleMove(window.event ? window.event : e); });\n                canvas.addEventListener(\"mousewheel\", function (e) { return _this.handleWheel(window.event ? window.event : e); });\n                canvas.addEventListener(\"DOMMouseScroll\", function (e) { return _this.handleWheel(window.event ? window.event : e); });\n                return this;\n            };\n            MouseInterop.prototype.handle = function (handlers) {\n                this.$handlers = handlers;\n                return this;\n            };\n            MouseInterop.prototype.unhandle = function () {\n                this.$handlers = NO_HANDLERS;\n                return this;\n            };\n            MouseInterop.prototype.isLeftButton = function (button) {\n                return button === 1;\n            };\n            MouseInterop.prototype.isRightButton = function (button) {\n                return button === 2;\n            };\n            MouseInterop.prototype.disableNextContextMenu = function () {\n                this.$isContextMenuDisabled = true;\n            };\n            MouseInterop.prototype.calcOffset = function (canvas) {\n                var x = 0;\n                var y = 0;\n                var cur = canvas;\n                if (cur.offsetParent) {\n                    do {\n                        x += cur.offsetLeft;\n                        y += cur.offsetTop;\n                    } while (cur = cur.offsetParent);\n                }\n                return { x: x, y: y };\n            };\n            MouseInterop.prototype.getMousePosition = function (evt) {\n                return {\n                    x: evt.clientX + window.pageXOffset + this.$canvasOffset.x,\n                    y: evt.clientY + window.pageYOffset + this.$canvasOffset.y,\n                };\n            };\n            MouseInterop.prototype.handleContextMenu = function (evt) {\n                if (!this.$isContextMenuDisabled)\n                    return;\n                this.$isContextMenuDisabled = false;\n                evt.stopPropagation && evt.stopPropagation();\n                evt.preventDefault && evt.preventDefault();\n                evt.cancelBubble = true;\n                return false;\n            };\n            MouseInterop.prototype.handleButtonPress = function (evt) {\n                tiny.key.keyboard.refresh(evt);\n                var button = evt.which ? evt.which : evt.button;\n                var pos = this.getMousePosition(evt);\n                if (this.$handlers.down(button, pos))\n                    this.disableNextContextMenu();\n            };\n            MouseInterop.prototype.handleButtonRelease = function (evt) {\n                tiny.key.keyboard.refresh(evt);\n                var button = evt.which ? evt.which : evt.button;\n                var pos = this.getMousePosition(evt);\n                this.$handlers.up(button, pos);\n            };\n            MouseInterop.prototype.handleOut = function (evt) {\n                tiny.key.keyboard.refresh(evt);\n                var pos = this.getMousePosition(evt);\n                this.$handlers.leave(pos);\n            };\n            MouseInterop.prototype.handleMove = function (evt) {\n                tiny.key.keyboard.refresh(evt);\n                var pos = this.getMousePosition(evt);\n                this.$handlers.move(pos);\n            };\n            MouseInterop.prototype.handleWheel = function (evt) {\n                tiny.key.keyboard.refresh(evt);\n                var delta = 0;\n                if (evt.wheelDelta)\n                    delta = evt.wheelDelta / 120;\n                else if (evt.detail)\n                    delta = -evt.detail / 3;\n                if (evt.preventDefault)\n                    evt.preventDefault();\n                evt.returnValue = false;\n                var pos = this.getMousePosition(evt);\n                this.$handlers.wheel(pos, delta);\n            };\n            return MouseInterop;\n        })();\n        mouse.MouseInterop = MouseInterop;\n    })(mouse = tiny.mouse || (tiny.mouse = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var mouse;\n    (function (mouse) {\n        var IEMouseInterop = (function (_super) {\n            __extends(IEMouseInterop, _super);\n            function IEMouseInterop() {\n                _super.apply(this, arguments);\n                this.$stopIEContextMenu = false;\n            }\n            IEMouseInterop.prototype.disableNextContextMenu = function () {\n                _super.prototype.disableNextContextMenu.call(this);\n                this.$stopIEContextMenu = true;\n            };\n            IEMouseInterop.prototype.attach = function (canvas) {\n                var _this = this;\n                canvas.oncontextmenu = function (e) { return _this.handleIEContextMenu(e); };\n                return _super.prototype.attach.call(this, canvas);\n            };\n            IEMouseInterop.prototype.handleIEContextMenu = function (evt) {\n                if (this.$stopIEContextMenu) {\n                    this.$stopIEContextMenu = false;\n                    return false;\n                }\n                return true;\n            };\n            return IEMouseInterop;\n        })(mouse.MouseInterop);\n        mouse.IEMouseInterop = IEMouseInterop;\n    })(mouse = tiny.mouse || (tiny.mouse = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var mouse;\n    (function (mouse) {\n        var NetscapeMouseInterop = (function (_super) {\n            __extends(NetscapeMouseInterop, _super);\n            function NetscapeMouseInterop() {\n                _super.apply(this, arguments);\n            }\n            NetscapeMouseInterop.prototype.isRightButton = function (button) {\n                return button === 3;\n            };\n            return NetscapeMouseInterop;\n        })(mouse.MouseInterop);\n        mouse.NetscapeMouseInterop = NetscapeMouseInterop;\n    })(mouse = tiny.mouse || (tiny.mouse = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var touch;\n    (function (touch) {\n        var NO_HANDLERS = {\n            down: function (touches) {\n            },\n            up: function (touches) {\n            },\n            move: function (touches) {\n            },\n            enter: function (touches) {\n            },\n            leave: function (touches) {\n            },\n        };\n        var TouchInterop = (function () {\n            function TouchInterop() {\n                this.$canvasOffset = null;\n                this.$handlers = NO_HANDLERS;\n                this.$active = [];\n            }\n            Object.defineProperty(TouchInterop.prototype, \"offsetX\", {\n                get: function () {\n                    return window.pageXOffset + this.$canvasOffset.x;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(TouchInterop.prototype, \"offsetY\", {\n                get: function () {\n                    return window.pageYOffset + this.$canvasOffset.y;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            TouchInterop.prototype.attach = function (canvas) {\n                this.$canvasOffset = this.calcOffset(canvas);\n                return this;\n            };\n            TouchInterop.prototype.handle = function (handlers) {\n                this.$handlers = handlers;\n                return this;\n            };\n            TouchInterop.prototype.unhandle = function () {\n                this.$handlers = NO_HANDLERS;\n                return this;\n            };\n            TouchInterop.prototype.calcOffset = function (canvas) {\n                var left = 0;\n                var top = 0;\n                var cur = canvas;\n                if (cur.offsetParent) {\n                    do {\n                        left += cur.offsetLeft;\n                        top += cur.offsetTop;\n                    } while (cur = cur.offsetParent);\n                }\n                return { x: left, y: top };\n            };\n            TouchInterop.prototype.findTouch = function (identifier) {\n                for (var at = this.$active, len = at.length, i = 0; i < len; i++) {\n                    if (at[i].identifier === identifier)\n                        return at[i];\n                }\n                return null;\n            };\n            TouchInterop.prototype.removeTouches = function (touches) {\n                for (var i = 0, active = this.$active, len = touches.length; i < len; i++) {\n                    var index = active.indexOf(touches[i]);\n                    if (index > -1)\n                        active.splice(index, 1);\n                }\n            };\n            return TouchInterop;\n        })();\n        touch.TouchInterop = TouchInterop;\n    })(touch = tiny.touch || (tiny.touch = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"TouchInterop\" />\nvar tiny;\n(function (tiny) {\n    var touch;\n    (function (touch) {\n        var FakeTouchInterop = (function () {\n            function FakeTouchInterop() {\n            }\n            FakeTouchInterop.prototype.attach = function (canvas) {\n                return this;\n            };\n            FakeTouchInterop.prototype.handle = function (handlers) {\n                return this;\n            };\n            FakeTouchInterop.prototype.unhandle = function () {\n                return this;\n            };\n            return FakeTouchInterop;\n        })();\n        touch.FakeTouchInterop = FakeTouchInterop;\n    })(touch = tiny.touch || (tiny.touch = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"TouchInterop\" />\nvar tiny;\n(function (tiny) {\n    var touch;\n    (function (touch) {\n        var PointerTouchInterop = (function (_super) {\n            __extends(PointerTouchInterop, _super);\n            function PointerTouchInterop() {\n                _super.apply(this, arguments);\n            }\n            PointerTouchInterop.prototype.attach = function (canvas) {\n                var _this = this;\n                _super.prototype.attach.call(this, canvas);\n                canvas.style.msTouchAction = \"none\";\n                canvas.style.touchAction = \"none\";\n                canvas.addEventListener(\"selectstart\", function (e) {\n                    e.preventDefault();\n                });\n                if (navigator.msPointerEnabled) {\n                    canvas.addEventListener(\"MSPointerDown\", function (e) { return _this.handlePointerDown(window.event ? window.event : e); });\n                    canvas.addEventListener(\"MSPointerUp\", function (e) { return _this.handlePointerUp(window.event ? window.event : e); });\n                    canvas.addEventListener(\"MSPointerMove\", function (e) { return _this.handlePointerMove(window.event ? window.event : e); });\n                    canvas.addEventListener(\"MSPointerEnter\", function (e) { return _this.handlePointerEnter(window.event ? window.event : e); });\n                    canvas.addEventListener(\"MSPointerLeave\", function (e) { return _this.handlePointerLeave(window.event ? window.event : e); });\n                }\n                else {\n                    canvas.addEventListener(\"pointerdown\", function (e) { return _this.handlePointerDown(window.event ? window.event : e); });\n                    canvas.addEventListener(\"pointerup\", function (e) { return _this.handlePointerUp(window.event ? window.event : e); });\n                    canvas.addEventListener(\"pointermove\", function (e) { return _this.handlePointerMove(window.event ? window.event : e); });\n                    canvas.addEventListener(\"pointerenter\", function (e) { return _this.handlePointerEnter(window.event ? window.event : e); });\n                    canvas.addEventListener(\"pointerleave\", function (e) { return _this.handlePointerLeave(window.event ? window.event : e); });\n                }\n                return this;\n            };\n            PointerTouchInterop.prototype.handlePointerDown = function (e) {\n                if (e.pointerType !== \"touch\")\n                    return;\n                e.preventDefault();\n                this.$handlers.down([this.getDevice(e)]);\n            };\n            PointerTouchInterop.prototype.handlePointerUp = function (e) {\n                if (e.pointerType !== \"touch\")\n                    return;\n                var touches = [this.getDevice(e)];\n                this.$handlers.up(touches);\n                this.removeTouches(touches);\n            };\n            PointerTouchInterop.prototype.handlePointerMove = function (e) {\n                if (e.pointerType !== \"touch\")\n                    return;\n                this.$handlers.move([this.getDevice(e)]);\n            };\n            PointerTouchInterop.prototype.handlePointerEnter = function (e) {\n                if (e.pointerType !== \"touch\")\n                    return;\n                this.$handlers.enter([this.getDevice(e)]);\n            };\n            PointerTouchInterop.prototype.handlePointerLeave = function (e) {\n                if (e.pointerType !== \"touch\")\n                    return;\n                this.$handlers.leave([this.getDevice(e)]);\n            };\n            PointerTouchInterop.prototype.getDevice = function (e) {\n                var existing = this.findTouch(e.pointerId);\n                if (existing)\n                    return existing;\n                var td = this.createDevice(e);\n                this.$active.push(td);\n                return td;\n            };\n            PointerTouchInterop.prototype.createDevice = function (e) {\n                var _this = this;\n                return {\n                    identifier: e.pointerId,\n                    getPosition: function () {\n                        return {\n                            x: e.clientX + _this.offsetX,\n                            y: e.clientY + _this.offsetY,\n                        };\n                    },\n                    force: e.pressure,\n                };\n            };\n            return PointerTouchInterop;\n        })(touch.TouchInterop);\n        touch.PointerTouchInterop = PointerTouchInterop;\n    })(touch = tiny.touch || (tiny.touch = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"TouchInterop\" />\nvar tiny;\n(function (tiny) {\n    var touch;\n    (function (touch) {\n        var NonPointerTouchInterop = (function (_super) {\n            __extends(NonPointerTouchInterop, _super);\n            function NonPointerTouchInterop() {\n                _super.apply(this, arguments);\n            }\n            NonPointerTouchInterop.prototype.attach = function (canvas) {\n                var _this = this;\n                _super.prototype.attach.call(this, canvas);\n                canvas.addEventListener(\"touchstart\", function (e) { return _this.handleTouchStart(window.event ? window.event : e); });\n                canvas.addEventListener(\"touchend\", function (e) { return _this.handleTouchEnd(window.event ? window.event : e); });\n                canvas.addEventListener(\"touchmove\", function (e) { return _this.handleTouchMove(window.event ? window.event : e); });\n                canvas.addEventListener(\"touchenter\", function (e) { return _this.handleTouchEnter(window.event ? window.event : e); });\n                canvas.addEventListener(\"touchleave\", function (e) { return _this.handleTouchLeave(window.event ? window.event : e); });\n                return this;\n            };\n            NonPointerTouchInterop.prototype.handleTouchStart = function (e) {\n                e.preventDefault();\n                var newTouches = this.touchArrayFromList(e.changedTouches);\n                this.$handlers.down(newTouches);\n            };\n            NonPointerTouchInterop.prototype.handleTouchEnd = function (e) {\n                var oldTouches = this.touchArrayFromList(e.changedTouches);\n                this.$handlers.up(oldTouches);\n                this.removeTouches(oldTouches);\n            };\n            NonPointerTouchInterop.prototype.handleTouchMove = function (e) {\n                var touches = this.touchArrayFromList(e.changedTouches);\n                this.$handlers.move(touches);\n            };\n            NonPointerTouchInterop.prototype.handleTouchEnter = function (e) {\n                var touches = this.touchArrayFromList(e.changedTouches);\n                this.$handlers.enter(touches);\n            };\n            NonPointerTouchInterop.prototype.handleTouchLeave = function (e) {\n                var touches = this.touchArrayFromList(e.changedTouches);\n                this.$handlers.leave(touches);\n            };\n            NonPointerTouchInterop.prototype.touchArrayFromList = function (list) {\n                var touches = [];\n                for (var i = 0, len = list.length; i < len; i++) {\n                    touches.push(this.getDevice(list.item(i)));\n                }\n                return touches;\n            };\n            NonPointerTouchInterop.prototype.getDevice = function (t) {\n                var existing = this.findTouch(t.identifier);\n                if (existing)\n                    return existing;\n                var td = this.createDevice(t);\n                this.$active.push(td);\n                return td;\n            };\n            NonPointerTouchInterop.prototype.createDevice = function (t) {\n                var _this = this;\n                return {\n                    identifier: t.identifier,\n                    getPosition: function () {\n                        return {\n                            x: t.clientX + _this.offsetX,\n                            y: t.clientY + _this.offsetY,\n                        };\n                    },\n                    force: t.force,\n                };\n            };\n            return NonPointerTouchInterop;\n        })(touch.TouchInterop);\n        touch.NonPointerTouchInterop = NonPointerTouchInterop;\n    })(touch = tiny.touch || (tiny.touch = {}));\n})(tiny || (tiny = {}));\n/// <reference path=\"key/KeyInterop\" />\n/// <reference path=\"key/IEKeyInterop\" />\n/// <reference path=\"key/NetscapeKeyInterop\" />\n/// <reference path=\"mouse/MouseInterop\" />\n/// <reference path=\"mouse/IEMouseInterop\" />\n/// <reference path=\"mouse/NetscapeMouseInterop\" />\n/// <reference path=\"touch/FakeTouchInterop\" />\n/// <reference path=\"touch/PointerTouchInterop\" />\n/// <reference path=\"touch/NonPointerTouchInterop\" />\nvar tiny;\n(function (tiny) {\n    var InputManager = (function () {\n        function InputManager(canvas) {\n            Object.defineProperties(this, {\n                mouse: {\n                    value: this.determineMouse().attach(canvas),\n                    writable: false,\n                },\n                key: {\n                    value: this.determineKey().attach(canvas),\n                    writable: false,\n                },\n                touch: {\n                    value: this.determineTouch().attach(canvas),\n                    writable: false,\n                },\n            });\n        }\n        InputManager.prototype.determineMouse = function () {\n            if (navigator.appName === \"Microsoft Internet Explorer\")\n                return new tiny.mouse.IEMouseInterop();\n            if (navigator.appName === \"Netscape\") {\n                if (!!navigator.userAgent.match(/Trident\\//))\n                    return new tiny.mouse.IEMouseInterop();\n                return new tiny.mouse.NetscapeMouseInterop();\n            }\n            return new tiny.mouse.MouseInterop();\n        };\n        InputManager.prototype.determineKey = function () {\n            if (navigator.appName === \"Microsoft Internet Explorer\")\n                return new tiny.key.IEKeyInterop();\n            if (navigator.appName === \"Netscape\") {\n                if (!!navigator.userAgent.match(/Trident\\//))\n                    return new tiny.key.IEKeyInterop();\n                return new tiny.key.NetscapeKeyInterop();\n            }\n            return new tiny.key.KeyInterop();\n        };\n        InputManager.prototype.determineTouch = function () {\n            if (navigator.msPointerEnabled || navigator.pointerEnabled)\n                return new tiny.touch.PointerTouchInterop();\n            if (\"ontouchstart\" in window)\n                return new tiny.touch.NonPointerTouchInterop();\n            return new tiny.touch.FakeTouchInterop();\n        };\n        return InputManager;\n    })();\n    tiny.InputManager = InputManager;\n})(tiny || (tiny = {}));\n/// <reference path=\"Key\" />\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        var keyFromKeyCode = [];\n        keyFromKeyCode[8] = key.Key.back;\n        keyFromKeyCode[9] = key.Key.tab;\n        keyFromKeyCode[13] = key.Key.enter;\n        keyFromKeyCode[16] = key.Key.shift;\n        keyFromKeyCode[17] = key.Key.ctrl;\n        keyFromKeyCode[18] = key.Key.alt;\n        keyFromKeyCode[20] = key.Key.capsLock;\n        keyFromKeyCode[27] = key.Key.escape;\n        keyFromKeyCode[32] = key.Key.space;\n        keyFromKeyCode[33] = key.Key.pageUp;\n        keyFromKeyCode[34] = key.Key.pageDown;\n        keyFromKeyCode[35] = key.Key.end;\n        keyFromKeyCode[36] = key.Key.home;\n        keyFromKeyCode[37] = key.Key.left;\n        keyFromKeyCode[38] = key.Key.up;\n        keyFromKeyCode[39] = key.Key.right;\n        keyFromKeyCode[40] = key.Key.down;\n        keyFromKeyCode[45] = key.Key.insert;\n        keyFromKeyCode[46] = key.Key.delete;\n        keyFromKeyCode[48] = key.Key.d0;\n        keyFromKeyCode[49] = key.Key.d1;\n        keyFromKeyCode[50] = key.Key.d2;\n        keyFromKeyCode[51] = key.Key.d3;\n        keyFromKeyCode[52] = key.Key.d4;\n        keyFromKeyCode[53] = key.Key.d5;\n        keyFromKeyCode[54] = key.Key.d6;\n        keyFromKeyCode[55] = key.Key.d7;\n        keyFromKeyCode[56] = key.Key.d8;\n        keyFromKeyCode[57] = key.Key.d9;\n        keyFromKeyCode[65] = key.Key.a;\n        keyFromKeyCode[66] = key.Key.b;\n        keyFromKeyCode[67] = key.Key.c;\n        keyFromKeyCode[68] = key.Key.d;\n        keyFromKeyCode[69] = key.Key.e;\n        keyFromKeyCode[70] = key.Key.f;\n        keyFromKeyCode[71] = key.Key.g;\n        keyFromKeyCode[72] = key.Key.h;\n        keyFromKeyCode[73] = key.Key.i;\n        keyFromKeyCode[74] = key.Key.j;\n        keyFromKeyCode[75] = key.Key.k;\n        keyFromKeyCode[76] = key.Key.l;\n        keyFromKeyCode[77] = key.Key.m;\n        keyFromKeyCode[78] = key.Key.n;\n        keyFromKeyCode[79] = key.Key.o;\n        keyFromKeyCode[80] = key.Key.p;\n        keyFromKeyCode[81] = key.Key.q;\n        keyFromKeyCode[82] = key.Key.r;\n        keyFromKeyCode[83] = key.Key.s;\n        keyFromKeyCode[84] = key.Key.t;\n        keyFromKeyCode[85] = key.Key.u;\n        keyFromKeyCode[86] = key.Key.v;\n        keyFromKeyCode[87] = key.Key.w;\n        keyFromKeyCode[88] = key.Key.x;\n        keyFromKeyCode[89] = key.Key.y;\n        keyFromKeyCode[90] = key.Key.z;\n        keyFromKeyCode[96] = key.Key.numPad0;\n        keyFromKeyCode[97] = key.Key.numPad1;\n        keyFromKeyCode[98] = key.Key.numPad2;\n        keyFromKeyCode[99] = key.Key.numPad3;\n        keyFromKeyCode[100] = key.Key.numPad4;\n        keyFromKeyCode[101] = key.Key.numPad5;\n        keyFromKeyCode[102] = key.Key.numPad6;\n        keyFromKeyCode[103] = key.Key.numPad7;\n        keyFromKeyCode[104] = key.Key.numPad8;\n        keyFromKeyCode[105] = key.Key.numPad9;\n        keyFromKeyCode[106] = key.Key.multiply;\n        keyFromKeyCode[107] = key.Key.add;\n        keyFromKeyCode[109] = key.Key.subtract;\n        keyFromKeyCode[110] = key.Key.decimal;\n        keyFromKeyCode[111] = key.Key.divide;\n        keyFromKeyCode[112] = key.Key.f1;\n        keyFromKeyCode[113] = key.Key.f2;\n        keyFromKeyCode[114] = key.Key.f3;\n        keyFromKeyCode[115] = key.Key.f4;\n        keyFromKeyCode[116] = key.Key.f5;\n        keyFromKeyCode[117] = key.Key.f6;\n        keyFromKeyCode[118] = key.Key.f7;\n        keyFromKeyCode[119] = key.Key.f8;\n        keyFromKeyCode[120] = key.Key.f9;\n        keyFromKeyCode[121] = key.Key.f10;\n        keyFromKeyCode[122] = key.Key.f11;\n        keyFromKeyCode[123] = key.Key.f12;\n        function keyFromBrowserCode(code) {\n            return keyFromKeyCode[code];\n        }\n        key.keyFromBrowserCode = keyFromBrowserCode;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key) {\n        (function (ModifierKeys) {\n            ModifierKeys[ModifierKeys[\"none\"] = 1] = \"none\";\n            ModifierKeys[ModifierKeys[\"alt\"] = 2] = \"alt\";\n            ModifierKeys[ModifierKeys[\"control\"] = 4] = \"control\";\n            ModifierKeys[ModifierKeys[\"shift\"] = 8] = \"shift\";\n            ModifierKeys[ModifierKeys[\"windows\"] = 16] = \"windows\";\n            ModifierKeys[ModifierKeys[\"apple\"] = 32] = \"apple\";\n        })(key.ModifierKeys || (key.ModifierKeys = {}));\n        var ModifierKeys = key.ModifierKeys;\n        var keyboard;\n        (function (keyboard) {\n            keyboard.modifiers = ModifierKeys.none;\n            function refresh(evt) {\n                if (evt.shiftKey)\n                    keyboard.modifiers |= ModifierKeys.shift;\n                else\n                    keyboard.modifiers &= ~ModifierKeys.shift;\n                if (evt.ctrlKey)\n                    keyboard.modifiers |= ModifierKeys.control;\n                else\n                    keyboard.modifiers &= ~ModifierKeys.control;\n                if (evt.altKey)\n                    keyboard.modifiers |= ModifierKeys.alt;\n                else\n                    keyboard.modifiers &= ~ModifierKeys.alt;\n            }\n            keyboard.refresh = refresh;\n            function hasControl() {\n                return (keyboard.modifiers & ModifierKeys.control) === ModifierKeys.control;\n            }\n            keyboard.hasControl = hasControl;\n            function hasAlt() {\n                return (keyboard.modifiers & ModifierKeys.alt) === ModifierKeys.alt;\n            }\n            keyboard.hasAlt = hasAlt;\n            function hasShift() {\n                return (keyboard.modifiers & ModifierKeys.shift) === ModifierKeys.shift;\n            }\n            keyboard.hasShift = hasShift;\n        })(keyboard = key.keyboard || (key.keyboard = {}));\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\nvar tiny;\n(function (tiny) {\n    var key;\n    (function (key_1) {\n        var KeyEventArgs = (function () {\n            function KeyEventArgs(modifiers, keyCode, key, c) {\n                this.modifiers = modifiers;\n                this.platformKeyCode = keyCode;\n                this.key = key == null ? key_1.Key.unknown : key;\n                this.char = c;\n            }\n            return KeyEventArgs;\n        })();\n        key_1.KeyEventArgs = KeyEventArgs;\n    })(key = tiny.key || (tiny.key = {}));\n})(tiny || (tiny = {}));\n","/// <reference path=\"Key\" />\n/// <reference path=\"KeyInterop\" />\n\nnamespace tiny.key {\n    var udkie = [];\n    udkie[41] = 48;\n    udkie[33] = 49;\n    udkie[64] = 50;\n    udkie[35] = 51;\n    udkie[36] = 52;\n    udkie[37] = 53;\n    udkie[94] = 54;\n    udkie[38] = 55;\n    udkie[42] = 56;\n    udkie[34] = Key.unknown;\n\n    export class IEKeyInterop extends KeyInterop {\n        createPressArgs(e): IKeyEventArgs {\n            if (!e[\"char\"])\n                return;\n\n            var modifiers: IKeyModifiers = {\n                shift: e.shiftKey,\n                ctrl: e.ctrlKey,\n                alt: e.altKey\n            };\n\n            var keyCode = e.keyCode;\n            var unshifted = udkie[keyCode];\n            if (unshifted)\n                keyCode = unshifted;\n\n            var args = new KeyEventArgs(modifiers, keyCode, keyFromBrowserCode(keyCode), e[\"char\"]);\n            if (args.key === Key.unknown && e.key) {\n                args.char = e.key;\n                var code = args.char.toUpperCase().charCodeAt(0);\n                args.key = keyFromBrowserCode(code);\n                if (args.key == null)\n                    args.key = Key.unknown;\n            }\n            return args;\n        }\n\n        createDownArgs(e): IKeyEventArgs {\n            //NOTE: Ctrl+[key] does not flow through press\n            if (e[\"char\"] && e.keyCode !== 8 && e.keyCode !== 9 && !e.ctrlKey)\n                return;\n            var modifiers: IKeyModifiers = {\n                shift: e.shiftKey,\n                ctrl: e.ctrlKey,\n                alt: e.altKey\n            };\n            return new KeyEventArgs(modifiers, e.keyCode, keyFromBrowserCode(e.keyCode));\n        }\n    }\n}","/// <reference path=\"Key\" />\n/// <reference path=\"KeyInterop\" />\n\nnamespace tiny.key {\n    var sknet = [];\n    sknet[8] = Key.back;\n    sknet[9] = Key.tab;\n    sknet[20] = Key.capsLock;\n    sknet[27] = Key.escape;\n    sknet[33] = Key.pageUp;\n    sknet[34] = Key.pageDown;\n    sknet[35] = Key.end;\n    sknet[36] = Key.home;\n    sknet[37] = Key.left;\n    sknet[38] = Key.up;\n    sknet[39] = Key.right;\n    sknet[40] = Key.down;\n    sknet[45] = Key.insert;\n    sknet[46] = Key.delete;\n\n    var udknet = [];\n    udknet[41] = 48;\n    udknet[33] = 49;\n    udknet[64] = 50;\n    udknet[35] = 51;\n    udknet[36] = 52;\n    udknet[37] = 53;\n    udknet[94] = 54;\n    udknet[38] = 55;\n    udknet[42] = 56;\n    udknet[34] = Key.unknown;\n\n    export class NetscapeKeyInterop extends KeyInterop {\n        createPressArgs(e): IKeyEventArgs {\n            var modifiers: IKeyModifiers = {\n                shift: e.shiftKey,\n                ctrl: e.ctrlKey,\n                alt: e.altKey\n            };\n\n            var keyCode = e.keyCode;\n            var unshifted = udknet[keyCode];\n            if (unshifted)\n                keyCode = unshifted;\n\n            var args = new KeyEventArgs(modifiers, keyCode, keyFromBrowserCode(keyCode), String.fromCharCode(e.which || e.keyCode));\n            if (args.char === \"'\")\n                args.key = Key.unknown;\n            return args;\n        }\n\n        createDownArgs(e): IKeyEventArgs {\n            //only do for special keys\n            //NOTE: Ctrl+[key] does not flow through press\n            if (sknet[e.keyCode] === undefined && !e.ctrlKey)\n                return null;\n\n            var modifiers: IKeyModifiers = {\n                shift: e.shiftKey,\n                ctrl: e.ctrlKey,\n                alt: e.altKey\n            };\n            return new KeyEventArgs(modifiers, e.keyCode, keyFromBrowserCode(e.keyCode));\n        }\n\n        isPreventable(args: KeyEventArgs): boolean {\n            //TODO: Handle Mac keys\n            if (args.modifiers.ctrl && args.key === Key.v) {\n                //Ctrl+V - don't prevent paste\n                return false;\n            }\n            return true;\n        }\n    }\n}","namespace tiny.mouse {\n    var NO_HANDLERS: IMouseInteropHandlers = {\n        down(button: number, pos: IPoint): boolean {\n            return false;\n        },\n        up(button: number, pos: IPoint) {\n        },\n        leave(pos: IPoint) {\n        },\n        move(pos: IPoint) {\n        },\n        wheel(pos: IPoint, delta: number) {\n        },\n    };\n\n    export class MouseInterop implements IMouseInterop {\n        private $canvasOffset: IPoint = {x: 0, y: 0};\n        private $isContextMenuDisabled: boolean = false;\n        private $handlers: IMouseInteropHandlers = NO_HANDLERS;\n\n        attach(canvas: HTMLCanvasElement): IMouseInterop {\n            this.$canvasOffset = this.calcOffset(canvas);\n\n            canvas.addEventListener(\"contextmenu\", (e) => this.handleContextMenu(window.event ? <any>window.event : e));\n            canvas.addEventListener(\"mousedown\", (e) => this.handleButtonPress(window.event ? <any>window.event : e));\n            canvas.addEventListener(\"mouseup\", (e) => this.handleButtonRelease(window.event ? <any>window.event : e));\n            canvas.addEventListener(\"mouseout\", (e) => this.handleOut(window.event ? <any>window.event : e));\n            canvas.addEventListener(\"mousemove\", (e) => this.handleMove(window.event ? <any>window.event : e));\n\n            //IE9, Chrome, Safari, Opera\n            canvas.addEventListener(\"mousewheel\", (e) => this.handleWheel(window.event ? <any>window.event : e));\n            //Firefox\n            canvas.addEventListener(\"DOMMouseScroll\", (e) => this.handleWheel(window.event ? <any>window.event : e));\n\n            return this;\n        }\n\n        handle(handlers: IMouseInteropHandlers): IMouseInterop {\n            this.$handlers = handlers;\n            return this;\n        }\n\n        unhandle(): IMouseInterop {\n            this.$handlers = NO_HANDLERS;\n            return this;\n        }\n\n        isLeftButton(button: number): boolean {\n            return button === 1;\n        }\n\n        isRightButton(button: number): boolean {\n            return button === 2;\n        }\n\n        disableNextContextMenu() {\n            this.$isContextMenuDisabled = true;\n        }\n\n        protected calcOffset(canvas: HTMLCanvasElement): IPoint {\n            var x = 0;\n            var y = 0;\n            var cur: HTMLElement = canvas;\n            if (cur.offsetParent) {\n                do {\n                    x += cur.offsetLeft;\n                    y += cur.offsetTop;\n                } while (cur = <HTMLElement>cur.offsetParent);\n            }\n            return {x: x, y: y};\n        }\n\n        protected getMousePosition(evt): IPoint {\n            return {\n                x: evt.clientX + window.pageXOffset + this.$canvasOffset.x,\n                y: evt.clientY + window.pageYOffset + this.$canvasOffset.y,\n            };\n        }\n\n        private handleContextMenu(evt) {\n            if (!this.$isContextMenuDisabled)\n                return;\n            this.$isContextMenuDisabled = false;\n            evt.stopPropagation && evt.stopPropagation();\n            evt.preventDefault && evt.preventDefault();\n            evt.cancelBubble = true;\n            return false;\n        }\n\n        private handleButtonPress(evt) {\n            key.keyboard.refresh(evt);\n            var button = evt.which ? evt.which : evt.button;\n            var pos = this.getMousePosition(evt);\n            if (this.$handlers.down(button, pos))\n                this.disableNextContextMenu();\n        }\n\n        private handleButtonRelease(evt) {\n            key.keyboard.refresh(evt);\n            var button = evt.which ? evt.which : evt.button;\n            var pos = this.getMousePosition(evt);\n            this.$handlers.up(button, pos);\n        }\n\n        private handleOut(evt) {\n            key.keyboard.refresh(evt);\n            var pos = this.getMousePosition(evt);\n            this.$handlers.leave(pos);\n        }\n\n        private handleMove(evt) {\n            key.keyboard.refresh(evt);\n            var pos = this.getMousePosition(evt);\n            this.$handlers.move(pos);\n        }\n\n        private handleWheel(evt) {\n            key.keyboard.refresh(evt);\n            var delta = 0;\n            if (evt.wheelDelta)\n                delta = evt.wheelDelta / 120;\n            else if (evt.detail)\n                delta = -evt.detail / 3;\n            if (evt.preventDefault)\n                evt.preventDefault();\n            evt.returnValue = false;\n            var pos = this.getMousePosition(evt);\n            this.$handlers.wheel(pos, delta);\n        }\n    }\n}","namespace tiny.mouse {\n    export class IEMouseInterop extends MouseInterop {\n        private $stopIEContextMenu: boolean = false;\n\n        disableNextContextMenu() {\n            super.disableNextContextMenu();\n            this.$stopIEContextMenu = true;\n        }\n\n        attach(canvas: HTMLCanvasElement): IMouseInterop {\n            canvas.oncontextmenu = (e) => this.handleIEContextMenu(e);\n            return super.attach(canvas);\n        }\n\n        private handleIEContextMenu(evt) {\n            if (this.$stopIEContextMenu) {\n                this.$stopIEContextMenu = false;\n                return false;\n            }\n            return true;\n        }\n    }\n}","namespace tiny.mouse {\n    export class NetscapeMouseInterop extends MouseInterop {\n        isRightButton(button: number): boolean {\n            return button === 3;\n        }\n    }\n}","namespace tiny.touch {\r\n    var NO_HANDLERS: ITouchInteropHandlers = {\r\n        down(touches: ITouchDevice[]) {\r\n        },\r\n        up(touches: ITouchDevice[]) {\r\n        },\r\n        move(touches: ITouchDevice[]) {\r\n        },\r\n        enter(touches: ITouchDevice[]) {\r\n        },\r\n        leave(touches: ITouchDevice[]) {\r\n        },\r\n    };\r\n\r\n    export class TouchInterop implements ITouchInterop {\r\n        private $canvasOffset: IPoint = null;\r\n        protected $handlers: ITouchInteropHandlers = NO_HANDLERS;\r\n        protected $active: ITouchDevice[] = [];\r\n\r\n        get offsetX(): number {\r\n            return window.pageXOffset + this.$canvasOffset.x;\r\n        }\r\n\r\n        get offsetY(): number {\r\n            return window.pageYOffset + this.$canvasOffset.y;\r\n        }\r\n\r\n        attach(canvas: HTMLCanvasElement): ITouchInterop {\r\n            this.$canvasOffset = this.calcOffset(canvas);\r\n            return this;\r\n        }\r\n\r\n        handle(handlers: ITouchInteropHandlers): ITouchInterop {\r\n            this.$handlers = handlers;\r\n            return this;\r\n        }\r\n\r\n        unhandle(): ITouchInterop {\r\n            this.$handlers = NO_HANDLERS;\r\n            return this;\r\n        }\r\n\r\n        private calcOffset(canvas: HTMLCanvasElement): IPoint {\r\n            var left = 0;\r\n            var top = 0;\r\n            var cur: HTMLElement = canvas;\r\n            if (cur.offsetParent) {\r\n                do {\r\n                    left += cur.offsetLeft;\r\n                    top += cur.offsetTop;\r\n                } while (cur = <HTMLElement>cur.offsetParent);\r\n            }\r\n            return {x: left, y: top};\r\n        }\r\n\r\n        protected findTouch(identifier: number): ITouchDevice {\r\n            for (var at = this.$active, len = at.length, i = 0; i < len; i++) {\r\n                if (at[i].identifier === identifier)\r\n                    return at[i];\r\n            }\r\n            return null;\r\n        }\r\n\r\n        protected removeTouches(touches: ITouchDevice[]) {\r\n            for (var i = 0, active = this.$active, len = touches.length; i < len; i++) {\r\n                var index = active.indexOf(touches[i]);\r\n                if (index > -1)\r\n                    active.splice(index, 1);\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"TouchInterop\" />\n\nnamespace tiny.touch {\n    export class FakeTouchInterop implements ITouchInterop {\n        attach(canvas: HTMLCanvasElement): ITouchInterop {\n            return this;\n        }\n\n        handle(handlers: ITouchInteropHandlers): ITouchInterop {\n            return this;\n        }\n\n        unhandle(): ITouchInterop {\n            return this;\n        }\n    }\n}","/// <reference path=\"TouchInterop\" />\r\n\r\nnamespace tiny.touch {\r\n    export class PointerTouchInterop extends TouchInterop {\r\n        attach(canvas: HTMLCanvasElement): ITouchInterop {\r\n            super.attach(canvas);\r\n            canvas.style.msTouchAction = \"none\";\r\n            (<any>canvas.style).touchAction = \"none\";\r\n\r\n            canvas.addEventListener(\"selectstart\", (e) => {\r\n                e.preventDefault();\r\n            });\r\n            if (navigator.msPointerEnabled) {\r\n                canvas.addEventListener(\"MSPointerDown\", (e) => this.handlePointerDown(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerUp\", (e) => this.handlePointerUp(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerMove\", (e) => this.handlePointerMove(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerEnter\", (e) => this.handlePointerEnter(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerLeave\", (e) => this.handlePointerLeave(window.event ? <any>window.event : e));\r\n            } else {\r\n                canvas.addEventListener(\"pointerdown\", (e) => this.handlePointerDown(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerup\", (e) => this.handlePointerUp(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointermove\", (e) => this.handlePointerMove(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerenter\", (e) => this.handlePointerEnter(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerleave\", (e) => this.handlePointerLeave(window.event ? <any>window.event : e));\r\n            }\r\n            return this;\r\n        }\r\n\r\n        private handlePointerDown(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            e.preventDefault();\r\n            this.$handlers.down([this.getDevice(e)]);\r\n        }\r\n\r\n        private handlePointerUp(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            var touches = [this.getDevice(e)];\r\n            this.$handlers.up(touches);\r\n            this.removeTouches(touches);\r\n        }\r\n\r\n        private handlePointerMove(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            this.$handlers.move([this.getDevice(e)]);\r\n        }\r\n\r\n        private handlePointerEnter(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            this.$handlers.enter([this.getDevice(e)]);\r\n        }\r\n\r\n        private handlePointerLeave(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            this.$handlers.leave([this.getDevice(e)]);\r\n        }\r\n\r\n        protected getDevice(e: MSPointerEvent) {\r\n            var existing = this.findTouch(e.pointerId);\r\n            if (existing)\r\n                return existing;\r\n            var td = this.createDevice(e);\r\n            this.$active.push(td);\r\n            return td;\r\n        }\r\n\r\n        private createDevice(e: MSPointerEvent): ITouchDevice {\r\n            return {\r\n                identifier: e.pointerId,\r\n                getPosition: (): IPoint => {\r\n                    return {\r\n                        x: e.clientX + this.offsetX,\r\n                        y: e.clientY + this.offsetY,\r\n                    };\r\n                },\r\n                force: e.pressure,\r\n            };\r\n        }\r\n    }\r\n}","/// <reference path=\"TouchInterop\" />\r\n\r\nnamespace tiny.touch {\r\n    export class NonPointerTouchInterop extends TouchInterop {\r\n        attach(canvas: HTMLCanvasElement): ITouchInterop {\r\n            super.attach(canvas);\r\n            canvas.addEventListener(\"touchstart\", (e) => this.handleTouchStart(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchend\", (e) => this.handleTouchEnd(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchmove\", (e) => this.handleTouchMove(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchenter\", (e) => this.handleTouchEnter(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchleave\", (e) => this.handleTouchLeave(window.event ? <any>window.event : e));\r\n            return this;\r\n        }\r\n\r\n        protected handleTouchStart(e: TouchEvent) {\r\n            e.preventDefault();\r\n            var newTouches = this.touchArrayFromList(e.changedTouches);\r\n            this.$handlers.down(newTouches);\r\n        }\r\n\r\n        protected handleTouchEnd(e: TouchEvent) {\r\n            var oldTouches = this.touchArrayFromList(e.changedTouches);\r\n            this.$handlers.up(oldTouches);\r\n            this.removeTouches(oldTouches);\r\n        }\r\n\r\n        protected handleTouchMove(e: TouchEvent) {\r\n            var touches = this.touchArrayFromList(e.changedTouches);\r\n            this.$handlers.move(touches);\r\n        }\r\n\r\n        protected handleTouchEnter(e: TouchEvent) {\r\n            var touches = this.touchArrayFromList(e.changedTouches);\r\n            this.$handlers.enter(touches);\r\n        }\r\n\r\n        protected handleTouchLeave(e: TouchEvent) {\r\n            var touches = this.touchArrayFromList(e.changedTouches);\r\n            this.$handlers.leave(touches);\r\n        }\r\n\r\n        protected touchArrayFromList(list: TouchList): ITouchDevice[] {\r\n            var touches: ITouchDevice[] = [];\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                touches.push(this.getDevice(list.item(i)));\r\n            }\r\n            return touches;\r\n        }\r\n\r\n        protected getDevice(t: Touch) {\r\n            var existing = this.findTouch(t.identifier);\r\n            if (existing)\r\n                return existing;\r\n            var td = this.createDevice(t);\r\n            this.$active.push(td);\r\n            return td;\r\n        }\r\n\r\n        protected createDevice(t: Touch): ITouchDevice {\r\n            return {\r\n                identifier: t.identifier,\r\n                getPosition: (): IPoint => {\r\n                    return {\r\n                        x: t.clientX + this.offsetX,\r\n                        y: t.clientY + this.offsetY,\r\n                    };\r\n                },\r\n                force: t.force,\r\n            };\r\n        }\r\n    }\r\n}","/// <reference path=\"key/KeyInterop\" />\n/// <reference path=\"key/IEKeyInterop\" />\n/// <reference path=\"key/NetscapeKeyInterop\" />\n/// <reference path=\"mouse/MouseInterop\" />\n/// <reference path=\"mouse/IEMouseInterop\" />\n/// <reference path=\"mouse/NetscapeMouseInterop\" />\n/// <reference path=\"touch/FakeTouchInterop\" />\n/// <reference path=\"touch/PointerTouchInterop\" />\n/// <reference path=\"touch/NonPointerTouchInterop\" />\n\nnamespace tiny {\n    import IMouseInterop = tiny.mouse.IMouseInterop;\n    import IKeyInterop = tiny.key.IKeyInterop;\n    import ITouchInterop = tiny.touch.ITouchInterop;\n\n    export class InputManager {\n        mouse: IMouseInterop;\n        key: IKeyInterop;\n        touch: ITouchInterop;\n\n        constructor(canvas: HTMLCanvasElement) {\n            Object.defineProperties(this, {\n                mouse: {\n                    value: this.determineMouse().attach(canvas),\n                    writable: false,\n                },\n                key: {\n                    value: this.determineKey().attach(canvas),\n                    writable: false,\n                },\n                touch: {\n                    value: this.determineTouch().attach(canvas),\n                    writable: false,\n                },\n            });\n        }\n\n        protected determineMouse(): IMouseInterop {\n            if (navigator.appName === \"Microsoft Internet Explorer\")\n                return new mouse.IEMouseInterop();\n            if (navigator.appName === \"Netscape\") {\n                if (!!navigator.userAgent.match(/Trident\\//)) //IE11 masquerading as Netscape\n                    return new mouse.IEMouseInterop();\n                return new mouse.NetscapeMouseInterop();\n            }\n            return new mouse.MouseInterop();\n        }\n\n        protected determineKey(): IKeyInterop {\n            if (navigator.appName === \"Microsoft Internet Explorer\")\n                return new key.IEKeyInterop();\n            if (navigator.appName === \"Netscape\") {\n                if (!!navigator.userAgent.match(/Trident\\//)) //IE11 masquerading as Netscape\n                    return new key.IEKeyInterop();\n                return new key.NetscapeKeyInterop();\n            }\n            return new key.KeyInterop();\n        }\n\n        protected determineTouch(): touch.ITouchInterop {\n            if (navigator.msPointerEnabled || (<any>navigator).pointerEnabled)\n                return new touch.PointerTouchInterop();\n            if (\"ontouchstart\" in window)\n                return new touch.NonPointerTouchInterop();\n            return new touch.FakeTouchInterop();\n        }\n    }\n}","/// <reference path=\"Key\" />\n\nnamespace tiny.key {\n    var keyFromKeyCode: Key[] = [];\n    keyFromKeyCode[8] = Key.back;\n    keyFromKeyCode[9] = Key.tab;\n    keyFromKeyCode[13] = Key.enter;\n    keyFromKeyCode[16] = Key.shift;\n    keyFromKeyCode[17] = Key.ctrl;\n    keyFromKeyCode[18] = Key.alt;\n    //keyFromKeyCode[19] = Key.Pause/Break;\n    keyFromKeyCode[20] = Key.capsLock;\n    keyFromKeyCode[27] = Key.escape;\n    keyFromKeyCode[32] = Key.space;\n    keyFromKeyCode[33] = Key.pageUp;\n    keyFromKeyCode[34] = Key.pageDown;\n    keyFromKeyCode[35] = Key.end;\n    keyFromKeyCode[36] = Key.home;\n    keyFromKeyCode[37] = Key.left;\n    keyFromKeyCode[38] = Key.up;\n    keyFromKeyCode[39] = Key.right;\n    keyFromKeyCode[40] = Key.down;\n    keyFromKeyCode[45] = Key.insert;\n    keyFromKeyCode[46] = Key.delete;\n    keyFromKeyCode[48] = Key.d0;\n    keyFromKeyCode[49] = Key.d1;\n    keyFromKeyCode[50] = Key.d2;\n    keyFromKeyCode[51] = Key.d3;\n    keyFromKeyCode[52] = Key.d4;\n    keyFromKeyCode[53] = Key.d5;\n    keyFromKeyCode[54] = Key.d6;\n    keyFromKeyCode[55] = Key.d7;\n    keyFromKeyCode[56] = Key.d8;\n    keyFromKeyCode[57] = Key.d9;\n    //keyFromKeyCode[59] = Key.semicolon/colon;\n    //keyFromKeyCode[61] = Key.equals/plus;\n    keyFromKeyCode[65] = Key.a;\n    keyFromKeyCode[66] = Key.b;\n    keyFromKeyCode[67] = Key.c;\n    keyFromKeyCode[68] = Key.d;\n    keyFromKeyCode[69] = Key.e;\n    keyFromKeyCode[70] = Key.f;\n    keyFromKeyCode[71] = Key.g;\n    keyFromKeyCode[72] = Key.h;\n    keyFromKeyCode[73] = Key.i;\n    keyFromKeyCode[74] = Key.j;\n    keyFromKeyCode[75] = Key.k;\n    keyFromKeyCode[76] = Key.l;\n    keyFromKeyCode[77] = Key.m;\n    keyFromKeyCode[78] = Key.n;\n    keyFromKeyCode[79] = Key.o;\n    keyFromKeyCode[80] = Key.p;\n    keyFromKeyCode[81] = Key.q;\n    keyFromKeyCode[82] = Key.r;\n    keyFromKeyCode[83] = Key.s;\n    keyFromKeyCode[84] = Key.t;\n    keyFromKeyCode[85] = Key.u;\n    keyFromKeyCode[86] = Key.v;\n    keyFromKeyCode[87] = Key.w;\n    keyFromKeyCode[88] = Key.x;\n    keyFromKeyCode[89] = Key.y;\n    keyFromKeyCode[90] = Key.z;\n    //keyFromKeyCode[91] = Key.window;\n    keyFromKeyCode[96] = Key.numPad0;\n    keyFromKeyCode[97] = Key.numPad1;\n    keyFromKeyCode[98] = Key.numPad2;\n    keyFromKeyCode[99] = Key.numPad3;\n    keyFromKeyCode[100] = Key.numPad4;\n    keyFromKeyCode[101] = Key.numPad5;\n    keyFromKeyCode[102] = Key.numPad6;\n    keyFromKeyCode[103] = Key.numPad7;\n    keyFromKeyCode[104] = Key.numPad8;\n    keyFromKeyCode[105] = Key.numPad9;\n    keyFromKeyCode[106] = Key.multiply;\n    keyFromKeyCode[107] = Key.add;\n    keyFromKeyCode[109] = Key.subtract;\n    keyFromKeyCode[110] = Key.decimal;\n    keyFromKeyCode[111] = Key.divide;\n    keyFromKeyCode[112] = Key.f1;\n    keyFromKeyCode[113] = Key.f2;\n    keyFromKeyCode[114] = Key.f3;\n    keyFromKeyCode[115] = Key.f4;\n    keyFromKeyCode[116] = Key.f5;\n    keyFromKeyCode[117] = Key.f6;\n    keyFromKeyCode[118] = Key.f7;\n    keyFromKeyCode[119] = Key.f8;\n    keyFromKeyCode[120] = Key.f9;\n    keyFromKeyCode[121] = Key.f10;\n    keyFromKeyCode[122] = Key.f11;\n    keyFromKeyCode[123] = Key.f12;\n\n    export function keyFromBrowserCode(code: number): Key {\n        return keyFromKeyCode[code];\n    }\n}","namespace tiny.key {\n    export enum ModifierKeys {\n        none = 1 << 0,\n        alt = 1 << 1,\n        control = 1 << 2,\n        shift = 1 << 3,\n        windows = 1 << 4,\n        apple = 1 << 5,\n    }\n\n    export namespace keyboard {\n        export interface IModifierEvent {\n            shiftKey: boolean;\n            ctrlKey: boolean;\n            altKey: boolean;\n        }\n\n        export var modifiers: ModifierKeys = ModifierKeys.none;\n\n        export function refresh(evt: IModifierEvent) {\n            if (evt.shiftKey)\n                modifiers |= ModifierKeys.shift;\n            else\n                modifiers &= ~ModifierKeys.shift;\n            if (evt.ctrlKey)\n                modifiers |= ModifierKeys.control;\n            else\n                modifiers &= ~ModifierKeys.control;\n            if (evt.altKey)\n                modifiers |= ModifierKeys.alt;\n            else\n                modifiers &= ~ModifierKeys.alt;\n        }\n\n        export function hasControl() {\n            return (modifiers & ModifierKeys.control) === ModifierKeys.control;\n        }\n\n        export function hasAlt() {\n            return (modifiers & ModifierKeys.alt) === ModifierKeys.alt;\n        }\n\n        export function hasShift() {\n            return (modifiers & ModifierKeys.shift) === ModifierKeys.shift;\n        }\n    }\n}","namespace tiny.key {\n    export interface IKeyModifiers {\n        shift: boolean;\n        ctrl: boolean;\n        alt: boolean;\n    }\n\n    export interface IKeyEventArgs {\n        modifiers: IKeyModifiers;\n        platformKeyCode: number;\n        key: Key;\n        char: string;\n    }\n\n    export class KeyEventArgs implements IKeyEventArgs {\n        modifiers: IKeyModifiers;\n        platformKeyCode: number;\n        key: Key;\n        char: string;\n\n        constructor(modifiers: IKeyModifiers, keyCode: number, key: Key, c?: string) {\n            this.modifiers = modifiers;\n            this.platformKeyCode = keyCode;\n            this.key = key == null ? Key.unknown : key;\n            this.char = c;\n        }\n    }\n}"],"sourceRoot":"/source/"}